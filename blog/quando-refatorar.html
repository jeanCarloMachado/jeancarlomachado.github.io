<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    
    <meta name="keywords" content="Refatoração, boas práticas">
    

    
        <title>Quando refatorar</title>
    

    <meta name="description" content="Personal blog">

    <link rel="icon" href="/assets/img/favicon.ico">

  <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-49232964-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-49232964-2');
</script>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9655937299547675",
    enable_page_level_ads: true
  });
</script>

</head>

<body>

    <div class="wrapper">
        <div class="post">
    <a class="post__back" href="/">&lt;-- home</a>
    <h1 class="post__title">Quando refatorar</h1>
    <p class="post__date">July 14, 2017</p>
    <p class="post__meta"></p>
    <div class="post__content"?>
        <p>Quando alguém fala em refatorar algo geralmente fico com um pé
atrás. É muito fácil achar motivos ruins para refatorar e muito
difícil de achar bons.</p>

<p>Segue alguns motivos que geralmente me deparo:</p>

<ol>
  <li>o código está “legado” [NOK]</li>
  <li>o código não está nas melhores práticas [NOK]</li>
  <li>o requisito mudou drasticamente [OK]</li>
  <li>foi escrito de forma ilegível, totalmente <strong>go horse</strong> [OK]</li>
</ol>

<h2 id="o-código-estálegado">O código está “legado”</h2>

<p>Existe uma falácia por aí que o código que eu não escrevi é código
legado. Somos muito rápidos para formar uma opinião negativa sobre
o código de outra pessoa. Mas geralmente não entendemos tão bem do
problema quanto a outra pessoa. Ela que fez a solução está em uma
posição muito melhor do que você pra dizer quais são os detalhes ao
redor destes requisitos. Como diz o ditado: “você só sabe o que você
constrói”.</p>

<p>A grande maioria das vezes <em>menosprezamos a complexidade dos
problemas que queremos resolver</em>. Estimamos que
vamos conseguir resolver em pouco tempo mas na verdade leva muito
mais e muitas vezes o resultado final pode não ser lá um grande
avanço.</p>

<h2 id="o-código-não-está-nos-últimos-padrões">O código não está nos últimos padrões</h2>

<p>Muitos programadores são tentados a refatorar apenas para deixar
o código no formato do que consideram as “melhores práticas de
programação”. Eu acho isso um desperdício de intelecto.</p>

<p>Se você é como eu, quando terminar de “refatorar” você já vai ter
aprendido uma nova “melhor prática” e vai querer começar a fazer tudo
novamente. Se seguir nesse ciclo você vai aprender 90 formas diferentes
de fazer CRUD - nada mais.</p>

<p>Sistemas que somos pagos para fazer são pedaços de lógica que são
feitos para resolver problemas de pessoas do mundo real. Não são
laboratórios de programadores. Muito menos uma prova que paradigma
X é melhor que Y. Ou então uma imitação categoricamente perfeita dos conceitos do mundo real.</p>

<h2 id="bons-motivos-para-refatorar">Bons motivos para refatorar</h2>

<p>Quando algum requisito mudar drasticamente e essa área do código
precisa de melhorias, esse eu acho um ótimo momento para refatorar.
Você vai ter que gastar um tempo nessa feature e todo o conhecimento
agregado naquele código não faz mais sentido. Nesse momento você
aplica as melhores práticas de programação que conhece. Chamo isso de
<em>refatoração oportunística</em>. Quando você alinha sua vontade com o
que é o melhor para o sistema.</p>

<p>Outro bom motivo é quando alguém escreveu um código ilegível e
essa parte do código gera muitos bugs. Em outras palavras: quando
o custo de manutenção de um pedaço de código se torna mais alto
que a sua reconstrução. Mas é muito difícil pegar código assim.
Só um programador muito ruim ou de muita má vontade escreve código
ilegível. E se você trabalha para uma empresa que contrata esse tipo
de gente não tem refatoração que vai te salvar.</p>

<h2 id="conclusão">Conclusão</h2>

<p>Programadores em geral tem que parar de se preocupar em desenvolver
uma obra de arte no código. O que realmente importa é o valor para
o usuário. Essa filosofia de focar no “valor de negócio” quando
programamos faz parecer que nunca teremos tempo de melhorar nossos
skills técnicos mas isso <em>não é verdade</em>. Quando adotamos essa
mentalidade de “resolvedor de problemas” entregamos valor depressa.
Iteramos rapidamente, e podemos focar em questões cada vez mais
intrincadas e cheias de desafios técnicos e de negócio. E tem o bônus
que nos destacamos com a gerência e avançamos na carreira :).</p>

    </div>

</div>

<div id="disqus_thread"></div>
<script>
    var identifier = window.location.href.split('/');
    identifier = identifier[identifier.length -1 ];
    identifier.split('.')[0];

    var disqus_config = function () {
        this.page.url = window.location.href;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = identifier;
    };
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');

        s.src = '//jeancarlomachado.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
  MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
      cancel: ["Extension","cancel"],
          bcancel: ["Extension","cancel"],
              xcancel: ["Extension","cancel"],
                  cancelto: ["Extension","cancel"]
                    });
                    });
</script>

<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    </div>
</body>

</html>
